# Обновление настроек Render для режима замены гороскопов

## Изменения в конфигурации

Мы обновили файл `render.yaml` для использования нашего нового улучшенного скрипта генерации гороскопов с режимом полной замены. Основные изменения:

1. Изменен запускаемый скрипт для cron-задачи:
   - Было: `python daily_horoscope_generator_compatible.py`
   - Стало: `python daily_horoscope_replace.py`

2. Расписание осталось прежним:
   - Запуск ежедневно в полночь (0:00) по расписанию: `"0 0 * * *"`

## Преимущества нового подхода

1. **Экономия ресурсов**:
   - Меньше записей в базе данных
   - Меньше файлов в хранилище
   - Сниженная нагрузка на PostgreSQL

2. **Отсутствие накопления лишних данных**:
   - Автоматическая очистка старых изображений
   - Постоянное количество записей гороскопов (8 вместо их постоянного роста)

3. **Снижение затрат**:
   - Меньше использованное место в базе данных приводит к снижению затрат на Render
   - Меньше файлов означает снижение расходов на хранилище

## Процесс обновления на Render

После внесения изменений в `render.yaml`, обновите деплой на Render одним из способов:

1. **Через панель управления Render**:
   - Войдите в панель управления Render
   - Перейдите к проекту (Blueprint)
   - Нажмите "Deploy" для активации изменений

2. **Через автоматический деплой**:
   - После пуша изменений в репозиторий
   - Если настроен автоматический деплой, изменения применятся автоматически

## Проверка работы

После деплоя проверьте:

1. **Логи cron-задачи**:
   - Убедитесь что задача запустилась по расписанию
   - Проверьте что генерация прошла успешно

2. **База данных**:
   - Проверьте что гороскопы обновились
   - Убедитесь что количество записей не растет

3. **Изображения**:
   - Проверьте что изображения правильно отображаются на сайте
   - Убедитесь что старые изображения очищаются
