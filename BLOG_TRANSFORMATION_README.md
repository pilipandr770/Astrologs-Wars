# Трансформация сайта в автоматический блог

Этот документ описывает преобразование сайта из магазина с токенами в автоматический блог с сохранением функционала магазина.

## Что было изменено

1. **Удалена функциональность токенов/блокчейна:**
   - Удалены или деактивированы модели: Token, Airdrop, TokenSale, DaoProposal и другие связанные с блокчейном
   - Деактивированы поля token_price в моделях Product и Order
   - Удалены блоки о токенах на главной странице
   - Удален блюпринт blockchain и связанные с ним импорты и функции

2. **Расширен функционал блога:**
   - Увеличено количество отображаемых блогов на главной странице с 3 до 5
   - Добавлены дополнительные функции автоматизации блога
   - Добавлены примеры тем для автоматической генерации блога

3. **Сохранена многоязычность:**
   - Сохранены все поля для разных языков (ua, en, de, ru)
   - Сохранен функционал переключения языков

4. **Сохранен функционал магазина:**
   - Все модели и функции магазина оставлены без изменений
   - Упрощен процесс оплаты (удалены опции с токенами)

## Файлы для миграции

1. **remove_token_functionality.py** - удаляет функциональность токенов из базы данных
2. **enhance_blog_automation.py** - улучшает автоматизацию блога

## Как запустить миграцию

1. Сделайте резервную копию базы данных:
   ```bash
   cp instance/app.db instance/app.db.backup
   ```

2. Запустите скрипт для удаления функциональности токенов:
   ```bash
   python remove_token_functionality.py
   ```

3. Запустите скрипт для улучшения автоматизации блога:
   ```bash
   python enhance_blog_automation.py
   ```

4. Перезапустите приложение:
   ```bash
   ./start.sh
   ```

## Конфигурация автоматизации блога

Автоматизация блога настроена на публикацию контента три раза в неделю (понедельник, среда, пятница) в 10:00. Контент автоматически переводится на все поддерживаемые языки (украинский, английский, немецкий, русский) и публикуется в Telegram-канале.

Для настройки системы убедитесь, что в файле `.env` присутствуют следующие переменные:
```
# Blog Automation Configuration
OPENAI_CONTENT_ASSISTANT_ID=asst_your_content_assistant_id
OPENAI_TRANSLATION_ASSISTANT_ID=asst_your_translation_assistant_id
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHANNEL_NAME=@your_telegram_channel
```

## Структура блога

Система блога использует фиксированный набор из 12 блоков, которые циклически обновляются. При генерации нового контента, самый старый блок заменяется новым, что позволяет поддерживать актуальность контента.

## Администрирование

Для управления блогом и магазином используйте административную панель:
- URL: `/admin`
- Автоматизация блога: `/admin/blog-automation/`
